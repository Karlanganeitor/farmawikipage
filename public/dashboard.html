<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles.css">

    <title>FarmaWiki - Dashboard</title>
    
    <script>
        // Esta función puede verificar si el usuario está autenticado
        function checkSession() {
            const nombreUsuario = localStorage.getItem('nombre_usuario');
            if (!nombreUsuario) {
                // Si no hay nombre de usuario en localStorage, redirige al login
                window.location.href = '/login.html';
            } else {
                // Si el nombre de usuario está en localStorage, muestra el saludo
                document.getElementById('greeting').innerText = 'Bienvenido, ' + nombreUsuario;
            }
        }

        // Llamamos a checkSession cuando la página se carga
        window.onload = checkSession;
    </script>
 
    <script>
      // obtener la id del usuario para mostrarlo en la pagina
      // dashboard.js
document.addEventListener('DOMContentLoaded', () => {
    const idUsuario = localStorage.getItem('id_usuario');

    if (idUsuario) {
        // Mostrar el ID en el dashboard
        document.getElementById('usuario-id').textContent = `ID de Usuario: ${idUsuario}`;
    } else {
        console.error('ID de usuario no encontrado');
        // Redirigir al login si es necesario
        window.location.href = '/login.html';
    }
});

      
    </script>
  </head>

  <body>
    <header>
      <div id="navbar-container">
      </header>
      <div class="container mt-4">
        <div class="row">
          <!-- Card para mostrar la ID del usuario -->
          <div class="col-md-3"> <!-- Ajusta el ancho de la columna -->
            <div class="card shadow-sm h-100"> <!-- Hace que la tarjeta ocupe toda la altura -->
              <div class="card-body d-flex flex-column justify-content-center">
                <h6 class="card-title fw-bold">Información de Usuario</h6>
                <p id="usuario-id" class="card-text text-muted" style="font-size: 0.9rem;">Cargando ID de usuario...</p>
              </div>
            </div>
          </div>
      
          <!-- Card para el buscador de medicamentos -->
          <div class="col-md-9">
            <div class="card shadow-sm">
              <div class="card-body">
                <h6 class="card-title fw-bold mb-3">Buscar Medicamentos</h6>
                <div class="row align-items-center"> <!-- Alineación vertical con flexbox -->
                  <div class="col-md-10">
                    <input type="text" class="form-control" id="searchTerm" placeholder="Busca tu medicamento...">
                  </div>
                  <div class="col-md-2">
                    <button type="button" class="btn btn-primary w-100" id="searchButton">Buscar</button>
                  </div>
                </div>
                <!-- Contenedor para los resultados de la búsqueda -->
                <div id="results" class="mt-4">
                  <!-- Aquí se mostrarán los resultados -->
                </div>
              </div>
            </div>
          </div>
          
      

<div class="contenedor-columnas">
<!-- Contenido de las columnas -->
</div>
<br>
    <div class="container">
      <div class="row">
        <div class="col-8 mx-auto">
          <div class="card text-center h-100">
            <div class="card-header">
              <h2 class="text-danger fw-bold">¡ADVERTENCIA!</h2>
            </div>
            <div class="card-body">
              <h3 class="card-title ">Recuerde</h3>
              <p class="card-text text-justify">La automedicación puede ser peligrosa para su salud. El uso de medicamentos sin la debida prescripción médica es bajo su propia responsabilidad. Consulte siempre a un profesional de la salud antes de tomar cualquier medicamento.</p>
              <img src="imagenes/grafica_peligro.png" class="img-fluid mx-auto d-block" style="max-width: 50%; height: auto;">
            </div>
            <div class="card-footer text-muted">
              <small> </small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Script para logout -->
    <script>
      // Función para cerrar sesión
      function logout() {
          // Eliminar el nombre de usuario del localStorage
          localStorage.removeItem('nombre_usuario');
          // Redirigir al login
          window.location.href = '/login.html';
      }
    </script>
   <script src="navabar.js"></script>
   <script src="busqueda.js"></script>
    

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="archivo.js"></script>

  </body>
</html>
